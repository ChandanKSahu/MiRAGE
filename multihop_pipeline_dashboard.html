
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multihop QA Pipeline Visualization</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #E0E0E0;
            padding: 20px;
        }
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            padding: 30px 0;
        }
        header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        header p {
            color: #B0B0B0;
            font-size: 1.1rem;
        }
        .pipeline-flow {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .flow-step {
            background: rgba(255,255,255,0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            color: #00d4ff;
            font-weight: 500;
        }
        .flow-arrow {
            color: #666;
            font-size: 1.2rem;
        }
        .card {
            background: rgba(255,255,255,0.08);
            border-radius: 16px;
            padding: 24px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .card h2 {
            color: #00d4ff;
            font-size: 1.3rem;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .graph-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            min-height: 600px;
        }
        .example-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
        }
        .chunk-box {
            background: rgba(46, 204, 113, 0.15);
            border-left: 4px solid #2ECC71;
            padding: 14px;
            border-radius: 8px;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        .chunk-box.retrieved {
            background: rgba(52, 152, 219, 0.15);
            border-left-color: #3498DB;
        }
        .chunk-box .label {
            font-weight: 600;
            color: #2ECC71;
            margin-bottom: 6px;
        }
        .chunk-box.retrieved .label {
            color: #3498DB;
        }
        .keyword-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        .keyword {
            background: rgba(155, 89, 182, 0.2);
            color: #BB8FCE;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 0.8rem;
        }
        .bridge-box {
            background: rgba(231, 76, 60, 0.15);
            border: 2px dashed #E74C3C;
            padding: 14px;
            border-radius: 8px;
            text-align: center;
        }
        .bridge-box .relation {
            color: #E74C3C;
            font-weight: 600;
        }
        .qa-box {
            background: rgba(230, 126, 34, 0.15);
            border-left: 4px solid #E67E22;
            padding: 16px;
            border-radius: 8px;
        }
        .qa-box .question {
            color: #F5B041;
            font-weight: 600;
            margin-bottom: 10px;
        }
        .qa-box .answer {
            color: #D5D5D5;
            line-height: 1.6;
        }
        .dedup-box {
            background: rgba(39, 174, 96, 0.15);
            border: 2px solid #27AE60;
            padding: 16px;
            border-radius: 8px;
        }
        .dedup-box h4 {
            color: #27AE60;
            margin-bottom: 10px;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }
        .stat {
            background: rgba(255,255,255,0.05);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }
        .stat .num {
            font-size: 1.8rem;
            font-weight: 700;
            color: #00d4ff;
        }
        .stat .label {
            font-size: 0.75rem;
            color: #888;
            text-transform: uppercase;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ”— Multihop QA Generation Pipeline</h1>
            <p>Visualizing the reasoning chain from source chunks to synthesized question-answer pairs</p>
        </header>
        
        <div class="pipeline-flow">
            <span class="flow-step">Source Chunk</span>
            <span class="flow-arrow">â†’</span>
            <span class="flow-step">Queries (â‰¥1)</span>
            <span class="flow-arrow">â†’</span>
            <span class="flow-step">Retrieved Chunks (â‰¥1)</span>
            <span class="flow-arrow">â†’</span>
            <span class="flow-step">Context</span>
            <span class="flow-arrow">â†’</span>
            <span class="flow-step">Keywords (â‰¥1)</span>
            <span class="flow-arrow">â†’</span>
            <span class="flow-step">Keyword Chains (â‰¥1)</span>
            <span class="flow-arrow">â†’</span>
            <span class="flow-step">Generated QA (â‰¥1)</span>
            <span class="flow-arrow">â†’</span>
            <span class="flow-step">Deduplication</span>
        </div>
        
        <div class="card">
            <h2>ðŸ“Š Interactive Pipeline Graph</h2>
            <p style="color:#888; margin-bottom:16px; font-size:0.9rem;">Hover over nodes to see full text content. Zoom and pan to explore.</p>
            <div class="graph-container">
                <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.3.0.min.js" integrity="sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=" crossorigin="anonymous"></script>                <div id="5d86065d-5cf7-4097-9910-452ebf409e55" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("5d86065d-5cf7-4097-9910-452ebf409e55")) {                    Plotly.newPlot(                        "5d86065d-5cf7-4097-9910-452ebf409e55",                        [{"hoverinfo":"text","hovertext":"generates","line":{"color":"#F1C40F","width":2},"mode":"lines","showlegend":false,"x":[0,0.75,1.5],"y":[0,-0.75,-1.2],"type":"scatter"},{"hoverinfo":"text","hovertext":"generates","line":{"color":"#F1C40F","width":2},"mode":"lines","showlegend":false,"x":[0,0.75,1.5],"y":[0,-0.15000000000000002,0.0],"type":"scatter"},{"hoverinfo":"text","hovertext":"generates","line":{"color":"#F1C40F","width":2},"mode":"lines","showlegend":false,"x":[0,0.75,1.5],"y":[0,0.44999999999999996,1.2],"type":"scatter"},{"hoverinfo":"text","hovertext":"retrieves","line":{"color":"#3498DB","width":1.5},"mode":"lines","showlegend":false,"x":[1.5,2.25,3],"y":[-1.2,-1.4499999999999997,-1.4],"type":"scatter"},{"hoverinfo":"text","hovertext":"retrieves","line":{"color":"#3498DB","width":1.5},"mode":"lines","showlegend":false,"x":[1.5,2.25,3],"y":[0.0,-0.15000000000000002,0.0],"type":"scatter"},{"hoverinfo":"text","hovertext":"retrieves","line":{"color":"#3498DB","width":1.5},"mode":"lines","showlegend":false,"x":[1.5,2.25,3],"y":[1.2,1.15,1.4],"type":"scatter"},{"hoverinfo":"text","hovertext":"forms context","line":{"color":"#1ABC9C","width":2},"mode":"lines","showlegend":false,"x":[0,2.4,4.8],"y":[0,-1.23,-1.5],"type":"scatter"},{"hoverinfo":"text","hovertext":"forms context","line":{"color":"#1ABC9C","width":2},"mode":"lines","showlegend":false,"x":[3,3.9,4.8],"y":[-1.4,-0.8799999999999999,0.0],"type":"scatter"},{"hoverinfo":"text","hovertext":"forms context","line":{"color":"#1ABC9C","width":2},"mode":"lines","showlegend":false,"x":[3,3.9,4.8],"y":[0.0,0.5700000000000001,1.5],"type":"scatter"},{"hoverinfo":"text","hovertext":"forms context","line":{"color":"#1ABC9C","width":2},"mode":"lines","showlegend":false,"x":[3,3.9,4.8],"y":[0.0,0.5700000000000001,1.5],"type":"scatter"},{"hoverinfo":"text","hovertext":"extracts","line":{"color":"#9B59B6","width":1},"mode":"lines","showlegend":false,"x":[4.8,5.55,6.3],"y":[-1.5,-2.125,-2.4499999999999997],"type":"scatter"},{"hoverinfo":"text","hovertext":"extracts","line":{"color":"#9B59B6","width":1},"mode":"lines","showlegend":false,"x":[4.8,5.55,6.3],"y":[-1.5,-1.775,-1.75],"type":"scatter"},{"hoverinfo":"text","hovertext":"extracts","line":{"color":"#9B59B6","width":1},"mode":"lines","showlegend":false,"x":[4.8,5.55,6.3],"y":[-1.5,-1.4249999999999998,-1.0499999999999998],"type":"scatter"},{"hoverinfo":"text","hovertext":"extracts","line":{"color":"#9B59B6","width":1},"mode":"lines","showlegend":false,"x":[4.8,5.55,6.3],"y":[0.0,-0.325,-0.35],"type":"scatter"},{"hoverinfo":"text","hovertext":"extracts","line":{"color":"#9B59B6","width":1},"mode":"lines","showlegend":false,"x":[4.8,5.55,6.3],"y":[0.0,0.024999999999999967,0.35],"type":"scatter"},{"hoverinfo":"text","hovertext":"extracts","line":{"color":"#9B59B6","width":1},"mode":"lines","showlegend":false,"x":[4.8,5.55,6.3],"y":[0.0,0.3749999999999999,1.0499999999999998],"type":"scatter"},{"hoverinfo":"text","hovertext":"extracts","line":{"color":"#9B59B6","width":1},"mode":"lines","showlegend":false,"x":[4.8,5.55,6.3],"y":[1.5,1.475,1.75],"type":"scatter"},{"hoverinfo":"text","hovertext":"extracts","line":{"color":"#9B59B6","width":1},"mode":"lines","showlegend":false,"x":[4.8,5.55,6.3],"y":[1.5,1.8249999999999997,2.4499999999999997],"type":"scatter"},{"hoverinfo":"text","hovertext":"links","line":{"color":"#E74C3C","width":2.5},"mode":"lines","showlegend":false,"x":[6.3,7.05,7.8],"y":[-1.75,-1.475,-0.9],"type":"scatter"},{"hoverinfo":"text","hovertext":"links","line":{"color":"#E74C3C","width":2.5},"mode":"lines","showlegend":false,"x":[6.3,7.05,7.8],"y":[1.0499999999999998,-0.07500000000000012,-0.9],"type":"scatter"},{"hoverinfo":"text","hovertext":"links","line":{"color":"#E74C3C","width":2.5},"mode":"lines","showlegend":false,"x":[6.3,7.05,7.8],"y":[1.0499999999999998,0.8249999999999998,0.9],"type":"scatter"},{"hoverinfo":"text","hovertext":"links","line":{"color":"#E74C3C","width":2.5},"mode":"lines","showlegend":false,"x":[6.3,7.05,7.8],"y":[2.4499999999999997,1.525,0.9],"type":"scatter"},{"hoverinfo":"text","hovertext":"enables","line":{"color":"#E67E22","width":2},"mode":"lines","showlegend":false,"x":[7.8,8.55,9.3],"y":[-0.9,-1.1,-1.0],"type":"scatter"},{"hoverinfo":"text","hovertext":"enables","line":{"color":"#E67E22","width":2},"mode":"lines","showlegend":false,"x":[7.8,8.55,9.3],"y":[0.9,-0.2000000000000001,-1.0],"type":"scatter"},{"hoverinfo":"text","hovertext":"enables","line":{"color":"#E67E22","width":2},"mode":"lines","showlegend":false,"x":[7.8,8.55,9.3],"y":[-0.9,-0.10000000000000012,1.0],"type":"scatter"},{"hoverinfo":"text","hovertext":"enables","line":{"color":"#E67E22","width":2},"mode":"lines","showlegend":false,"x":[7.8,8.55,9.3],"y":[0.9,0.7999999999999998,1.0],"type":"scatter"},{"hoverinfo":"text","hovertext":"similar to","line":{"color":"rgba(150,150,150,0.4)","width":1},"mode":"lines","showlegend":false,"x":[9.3,10.15,11.0],"y":[-1.0,-1.3199999999999998,-1.3],"type":"scatter"},{"hoverinfo":"text","hovertext":"similar to","line":{"color":"rgba(150,150,150,0.4)","width":1},"mode":"lines","showlegend":false,"x":[9.3,10.15,11.0],"y":[-1.0,-0.6699999999999999,0.0],"type":"scatter"},{"hoverinfo":"text","hovertext":"similar to","line":{"color":"rgba(150,150,150,0.4)","width":1},"mode":"lines","showlegend":false,"x":[9.3,10.15,11.0],"y":[-1.0,-0.019999999999999907,1.3],"type":"scatter"},{"hoverinfo":"text","hovertext":"merged into","line":{"color":"#27AE60","width":2},"mode":"lines","showlegend":false,"x":[11.0,11.9,12.8],"y":[-1.3,-0.8300000000000001,0],"type":"scatter"},{"hoverinfo":"text","hovertext":"merged into","line":{"color":"#27AE60","width":2},"mode":"lines","showlegend":false,"x":[11.0,11.9,12.8],"y":[0.0,-0.18000000000000008,0],"type":"scatter"},{"hoverinfo":"text","hovertext":"merged into","line":{"color":"#27AE60","width":2},"mode":"lines","showlegend":false,"x":[11.0,11.9,12.8],"y":[1.3,0.47,0],"type":"scatter"},{"hoverinfo":"text","hovertext":"merged into","line":{"color":"#27AE60","width":2},"mode":"lines","showlegend":false,"x":[9.3,11.05,12.8],"y":[-1.0,-0.8500000000000001,0],"type":"scatter"},{"hoverinfo":"text","hoverlabel":{"bgcolor":"white","font":{"family":"Inter, Segoe UI, sans-serif","size":11}},"hovertext":["\u003cb\u003eSOURCE CHUNK\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[Chunk 1: Bistro Menu Description] The \"Autumn Harvest\u003cbr\u003eRisotto\" is a creamy dish featuring Arborio rice, butternut\u003cbr\u003esquash, aged parmesan cheese, and is slow-cooked in a\u003cbr\u003ehouse-made chicken broth.","\u003cb\u003eQUERY\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eSearch Query: \"vegetarian certification\" \"label\u003cbr\u003erequirements\"","\u003cb\u003eQUERY\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eSearch Query: \"animal-derived ingredients\" restrictions","\u003cb\u003eQUERY\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eSearch Query: \"Green-Leaf\" certification criteria","\u003cb\u003eRETRIEVED CHUNK\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[EXPLANATORY] [Green-Leaf Certification Guide] To qualify\u003cbr\u003efor the \"Green-Leaf Vegetarian Label,\" a dish must be\u003cbr\u003eentirely free of meat, poultry, and seafood flesh, including\u003cbr\u003eany stocks, broths, or gravies derived from animal tissue.\u003cbr\u003eDairy and eggs are permitted.","\u003cb\u003eRETRIEVED CHUNK\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[RELATED] [Animal Products Definition] Animal-derived\u003cbr\u003eingredients include any substance obtained from animal\u003cbr\u003etissue, including fats, stocks, broths, and gelatin. Eggs\u003cbr\u003eand dairy are classified separately.","\u003cb\u003eRETRIEVED CHUNK\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[RELATED] [Certification Standards Overview] The Green-Leaf\u003cbr\u003eprogram certifies dishes as vegetarian-compliant based on\u003cbr\u003eingredient sourcing. Certified dishes display the Green-Leaf\u003cbr\u003elogo on menus.","\u003cb\u003eCONTEXT\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[Chunk 1: Bistro Menu Description] The \"Autumn Harvest\u003cbr\u003eRisotto\" is a creamy dish featuring Arborio rice, butternut\u003cbr\u003esquash, aged parmesan cheese, and is slow-cooked in a\u003cbr\u003ehouse-made chicken broth.","\u003cb\u003eCONTEXT\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[Green-Leaf Certification Guide] To qualify for the\u003cbr\u003e\"Green-Leaf Vegetarian Label,\" a dish must be entirely free\u003cbr\u003eof meat, poultry, and seafood flesh, including any stocks,\u003cbr\u003ebroths, or gravies derived from animal tissue. Dairy and\u003cbr\u003eeggs are permitted.","\u003cb\u003eCONTEXT\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[Animal Products Definition] Animal-derived ingredients\u003cbr\u003einclude any substance obtained from animal tissue, including\u003cbr\u003efats, stocks, broths, and gelatin. Eggs and dairy are\u003cbr\u003eclassified separately.","\u003cb\u003eKEYWORD\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eKeyword: Autumn Harvest Risotto From: ctx_0","\u003cb\u003eKEYWORD\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eKeyword: chicken broth From: ctx_0","\u003cb\u003eKEYWORD\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eKeyword: parmesan cheese From: ctx_0","\u003cb\u003eKEYWORD\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eKeyword: Green-Leaf Vegetarian Label From: ctx_1","\u003cb\u003eKEYWORD\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eKeyword: free of meat\u002fpoultry From: ctx_1","\u003cb\u003eKEYWORD\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eKeyword: stocks\u002fbroths from animal tissue From: ctx_1","\u003cb\u003eKEYWORD\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eKeyword: animal-derived ingredients From: ctx_2","\u003cb\u003eKEYWORD\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eKeyword: fats, stocks, broths From: ctx_2","\u003cb\u003eBRIDGE\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eBridge Keyword Chain: \"chicken broth\" â†” \"stocks\u002fbroths\u003cbr\u003ederived from animal tissue\" via poultry origin","\u003cb\u003eBRIDGE\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eBridge Keyword Chain: \"stocks\u002fbroths from animal tissue\" â†”\u003cbr\u003e\"fats, stocks, broths\" via ingredient category","\u003cb\u003eQA\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eQ: According to the Green-Leaf Certification Guide, why\u003cbr\u003edoes the \"Autumn Harvest Risotto\" fail to qualify for the\u003cbr\u003e\"Green-Leaf Vegetarian Label\"? A: The \"Autumn Harvest\u003cbr\u003eRisotto\" fails to qualify because it is cooked in chicken\u003cbr\u003ebroth, and the Green-Leaf Certification Guide explicitly\u003cbr\u003eexcludes dishes containing stocks or broths derived from\u003cbr\u003eanimal tissue (poultry). Relevance: 10\u002f10 | Difficulty: 3\u002f10","\u003cb\u003eQA\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eQ: What specific ingredient in the \"Autumn Harvest Risotto\"\u003cbr\u003eviolates the animal-derived ingredient restrictions defined\u003cbr\u003efor Green-Leaf certification? A: The house-made chicken\u003cbr\u003ebroth used in the risotto violates the restrictions, as it\u003cbr\u003econstitutes a stock\u002fbroth derived from animal tissue\u003cbr\u003e(poultry), which is explicitly prohibited for Green-Leaf\u003cbr\u003eVegetarian Label certification. Relevance: 9\u002f10 |\u003cbr\u003eDifficulty: 4\u002f10","\u003cb\u003eSIMILAR QA\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[Similar QA - Pre-deduplication] Q: Why can't the Autumn\u003cbr\u003eHarvest Risotto get vegetarian certification? A: It contains\u003cbr\u003echicken broth which is animal-derived.","\u003cb\u003eSIMILAR QA\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[Similar QA - Pre-deduplication] Q: What makes the risotto\u003cbr\u003eineligible for the Green-Leaf label? A: The chicken broth\u003cbr\u003eused as cooking base violates vegetarian requirements.","\u003cb\u003eSIMILAR QA\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[Similar QA - Pre-deduplication] Q: Does the Autumn Harvest\u003cbr\u003eRisotto qualify for Green-Leaf certification? Why or why\u003cbr\u003enot? A: No, because the dish is slow-cooked in chicken\u003cbr\u003ebroth, an animal-derived ingredient.","\u003cb\u003eDEDUP QA\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003e[DEDUPLICATED & REFINED QA] Q: According to the Green-Leaf\u003cbr\u003eCertification Guide, why does the \"Autumn Harvest Risotto\"\u003cbr\u003efail to qualify for the \"Green-Leaf Vegetarian Label\", and\u003cbr\u003ewhat specific ingredient violates the certification\u003cbr\u003erequirements? A: The \"Autumn Harvest Risotto\" fails to\u003cbr\u003equalify because it is slow-cooked in house-made chicken\u003cbr\u003ebroth. The Green-Leaf Certification Guide explicitly\u003cbr\u003eexcludes dishes containing stocks, broths, or gravies\u003cbr\u003ederived from animal tissue. Since chicken broth is derived\u003cbr\u003efrom poultry (animal tissue), the dish cannot receive\u003cbr\u003evegetarian certification despite other ingredients like\u003cbr\u003eparmesan cheese and eggs being permitted."],"marker":{"color":["#2ECC71","#F1C40F","#F1C40F","#F1C40F","#3498DB","#3498DB","#3498DB","#1ABC9C","#1ABC9C","#1ABC9C","#9B59B6","#9B59B6","#9B59B6","#9B59B6","#9B59B6","#9B59B6","#9B59B6","#9B59B6","#E74C3C","#E74C3C","#E67E22","#E67E22","#95A5A6","#95A5A6","#95A5A6","#27AE60"],"line":{"color":"#2C3E50","width":2},"opacity":0.95,"size":[45,32,32,32,38,38,38,40,40,40,28,28,28,28,28,28,28,28,36,36,42,42,32,32,32,48]},"mode":"markers+text","showlegend":false,"text":["[Chunk 1: Bistro Menu Description] ...","\"vegetarian certification\" \"la...","\"animal-derived ingredients\" r...","\"Green-Leaf\" certification cri...","[Green-Leaf Certification Guide]...","[Animal Products Definition] Ani...","[Certification Standards Overvie...","Context: Bistro Menu...","Context: Green-Leaf Guid...","Context: Animal Products...","Autumn Harvest Risotto","chicken broth","parmesan cheese","Green-Leaf Vegetarian ...","free of meat\u002fpoultry","stocks\u002fbroths from ani...","animal-derived ingredi...","fats, stocks, broths","ðŸ”— poultry origin â†’ ani...","ðŸ”— category match","QA: According to the Green-Le...","QA: What specific ingredient ...","Similar: Why can't the Autumn H...","Similar: What makes the risotto...","Similar: Does the Autumn Harves...","âœ“ Dedup: According to the Green-Le..."],"textfont":{"color":"#2C3E50","family":"Inter, Segoe UI, sans-serif","size":9},"textposition":"bottom center","x":[0,1.5,1.5,1.5,3,3,3,4.8,4.8,4.8,6.3,6.3,6.3,6.3,6.3,6.3,6.3,6.3,7.8,7.8,9.3,9.3,11.0,11.0,11.0,12.8],"y":[0,-1.2,0.0,1.2,-1.4,0.0,1.4,-1.5,0.0,1.5,-2.4499999999999997,-1.75,-1.0499999999999998,-0.35,0.35,1.0499999999999998,1.75,2.4499999999999997,-0.9,0.9,-1.0,1.0,-1.3,0.0,1.3,0],"type":"scatter"},{"hoverinfo":"none","mode":"text","showlegend":false,"text":["Source\nChunk","Queries\n(â‰¥1)","Retrieved\nChunks (â‰¥1)","Context","Keywords\n(â‰¥1 per chunk)","Keyword\nChains (â‰¥1)","Generated\nQA (â‰¥1)","Similar\nQAs","Deduplicated\nQA"],"textfont":{"color":"#34495E","family":"Inter, Segoe UI, sans-serif","size":11},"x":[0,1.5,3,4.8,6.3,7.8,9.3,11.0,12.8],"y":[3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5,3.5],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"font":{"size":22,"color":"#2C3E50","family":"Inter, Segoe UI, sans-serif"},"text":"\u003cb\u003eMultihop QA Generation Pipeline\u003c\u002fb\u003e","x":0.5},"margin":{"b":60,"l":40,"r":40,"t":80},"xaxis":{"showgrid":false,"zeroline":false,"showticklabels":false,"range":[-0.8,14]},"yaxis":{"showgrid":false,"zeroline":false,"showticklabels":false,"range":[-4,4.5]},"font":{"family":"Inter, Segoe UI, sans-serif"},"showlegend":false,"hovermode":"closest","paper_bgcolor":"#ECF0F1","plot_bgcolor":"#ECF0F1","annotations":[{"font":{"color":"#7F8C8D","size":9},"showarrow":false,"text":"1. Analyze chunk\u003cbr\u003efor completeness","x":0.75,"y":-3.5},{"font":{"color":"#7F8C8D","size":9},"showarrow":false,"text":"2. Generate search\u003cbr\u003equeries if incomplete","x":2.25,"y":-3.5},{"font":{"color":"#7F8C8D","size":9},"showarrow":false,"text":"3. Retrieve &\u003cbr\u003eclassify chunks","x":3.9,"y":-3.5},{"font":{"color":"#7F8C8D","size":9},"showarrow":false,"text":"4. Build unified\u003cbr\u003econtext","x":5.55,"y":-3.5},{"font":{"color":"#7F8C8D","size":9},"showarrow":false,"text":"5. Extract keywords\u003cbr\u003e& build chains","x":7.05,"y":-3.5},{"font":{"color":"#7F8C8D","size":9},"showarrow":false,"text":"6. Generate\u003cbr\u003emulti-hop QA","x":8.55,"y":-3.5},{"font":{"color":"#7F8C8D","size":9},"showarrow":false,"text":"7. Deduplicate\u003cbr\u003esimilar QAs","x":11.9,"y":-3.5},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Source Chunk","x":0.04,"xanchor":"left","xref":"paper","y":0.032,"yref":"paper"},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Query","x":0.22999999999999998,"xanchor":"left","xref":"paper","y":0.032,"yref":"paper"},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Retrieved Chunk","x":0.42000000000000004,"xanchor":"left","xref":"paper","y":0.032,"yref":"paper"},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Context","x":0.6100000000000001,"xanchor":"left","xref":"paper","y":0.032,"yref":"paper"},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Keyword","x":0.8,"xanchor":"left","xref":"paper","y":0.032,"yref":"paper"},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Bridge\u002fChain","x":0.04,"xanchor":"left","xref":"paper","y":0.072,"yref":"paper"},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Generated QA","x":0.22999999999999998,"xanchor":"left","xref":"paper","y":0.072,"yref":"paper"},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Similar QA","x":0.42000000000000004,"xanchor":"left","xref":"paper","y":0.072,"yref":"paper"},{"font":{"color":"#2C3E50","size":9},"showarrow":false,"text":"Dedup QA","x":0.6100000000000001,"xanchor":"left","xref":"paper","y":0.072,"yref":"paper"}],"shapes":[{"fillcolor":"#2ECC71","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.02,"x1":0.035,"xref":"paper","y0":0.02,"y1":0.045,"yref":"paper"},{"fillcolor":"#F1C40F","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.21,"x1":0.22499999999999998,"xref":"paper","y0":0.02,"y1":0.045,"yref":"paper"},{"fillcolor":"#3498DB","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.4,"x1":0.41500000000000004,"xref":"paper","y0":0.02,"y1":0.045,"yref":"paper"},{"fillcolor":"#1ABC9C","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.5900000000000001,"x1":0.6050000000000001,"xref":"paper","y0":0.02,"y1":0.045,"yref":"paper"},{"fillcolor":"#9B59B6","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.78,"x1":0.795,"xref":"paper","y0":0.02,"y1":0.045,"yref":"paper"},{"fillcolor":"#E74C3C","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.02,"x1":0.035,"xref":"paper","y0":0.06,"y1":0.08499999999999999,"yref":"paper"},{"fillcolor":"#E67E22","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.21,"x1":0.22499999999999998,"xref":"paper","y0":0.06,"y1":0.08499999999999999,"yref":"paper"},{"fillcolor":"#95A5A6","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.4,"x1":0.41500000000000004,"xref":"paper","y0":0.06,"y1":0.08499999999999999,"yref":"paper"},{"fillcolor":"#27AE60","line":{"color":"#2C3E50","width":1},"type":"circle","x0":0.5900000000000001,"x1":0.6050000000000001,"xref":"paper","y0":0.06,"y1":0.08499999999999999,"yref":"paper"}]},                        {"responsive": true}                    )                };            </script>        </div>
            </div>
        </div>
        
        <div class="card">
            <h2>ðŸ“‹ Example: Food Safety Officer - Vegetarian Certification Audit</h2>
            
            <div class="stats">
                <div class="stat"><div class="num">1</div><div class="label">Source Chunk</div></div>
                <div class="stat"><div class="num">3</div><div class="label">Queries</div></div>
                <div class="stat"><div class="num">3</div><div class="label">Retrieved</div></div>
                <div class="stat"><div class="num">8</div><div class="label">Keywords</div></div>
                <div class="stat"><div class="num">2</div><div class="label">Bridges</div></div>
                <div class="stat"><div class="num">2</div><div class="label">QA Pairs</div></div>
            </div>
            
            <div class="example-section" style="margin-top: 20px;">
                <div class="chunk-box">
                    <div class="label">ðŸ“„ Source Chunk (Bistro Menu)</div>
                    The "Autumn Harvest Risotto" is a creamy dish featuring Arborio rice, butternut squash, aged parmesan cheese, and is slow-cooked in a <strong>house-made chicken broth</strong>.
                    <div class="keyword-list">
                        <span class="keyword">Autumn Harvest Risotto</span>
                        <span class="keyword">chicken broth</span>
                        <span class="keyword">parmesan cheese</span>
                    </div>
                </div>
                
                <div class="chunk-box retrieved">
                    <div class="label">ðŸ“¥ Retrieved Chunk [EXPLANATORY]</div>
                    To qualify for the "Green-Leaf Vegetarian Label," a dish must be entirely free of meat, poultry, and seafood flesh, including any <strong>stocks, broths, or gravies derived from animal tissue</strong>. Dairy and eggs are permitted.
                    <div class="keyword-list">
                        <span class="keyword">Green-Leaf Vegetarian Label</span>
                        <span class="keyword">free of meat/poultry</span>
                        <span class="keyword">stocks/broths from animal tissue</span>
                    </div>
                </div>
            </div>
            
            <div class="bridge-box" style="margin-top: 16px;">
                <div class="relation">ðŸ”— Bridge Keyword Chain</div>
                <p style="margin-top:8px;">"chicken broth" â†” "stocks/broths derived from animal tissue" <br><em>via poultry origin</em></p>
            </div>
            
            <div class="qa-box" style="margin-top: 16px;">
                <div class="question">Q: According to the Green-Leaf Certification Guide, why does the "Autumn Harvest Risotto" fail to qualify for the "Green-Leaf Vegetarian Label"?</div>
                <div class="answer"><strong>A:</strong> The "Autumn Harvest Risotto" fails to qualify because it is cooked in chicken broth, and the Green-Leaf Certification Guide explicitly excludes dishes containing stocks or broths derived from animal tissue (poultry).</div>
            </div>
            
            <div class="dedup-box" style="margin-top: 16px;">
                <h4>âœ“ Deduplicated & Refined QA</h4>
                <p><strong>Q:</strong> According to the Green-Leaf Certification Guide, why does the "Autumn Harvest Risotto" fail to qualify for the "Green-Leaf Vegetarian Label", and what specific ingredient violates the certification requirements?</p>
                <p style="margin-top:10px;"><strong>A:</strong> The "Autumn Harvest Risotto" fails to qualify because it is slow-cooked in house-made chicken broth. The Green-Leaf Certification Guide explicitly excludes dishes containing stocks, broths, or gravies derived from animal tissue. Since chicken broth is derived from poultry (animal tissue), the dish cannot receive vegetarian certification despite other ingredients like parmesan cheese and eggs being permitted.</p>
            </div>
        </div>
        
        <div class="card">
            <h2>ðŸ”„ Pipeline Stages Explained</h2>
            <ol style="line-height: 2; color: #CCC; padding-left: 20px;">
                <li><strong style="color:#2ECC71;">Source Chunk Analysis:</strong> Evaluate chunk for semantic completeness and extract concepts</li>
                <li><strong style="color:#F1C40F;">Query Generation:</strong> If incomplete, generate â‰¥1 search queries to retrieve missing information</li>
                <li><strong style="color:#3498DB;">Chunk Retrieval:</strong> Each query retrieves â‰¥1 chunks, classified as EXPLANATORY/RELATED/UNRELATED</li>
                <li><strong style="color:#1ABC9C;">Context Building:</strong> Combine source chunk with relevant retrieved chunks</li>
                <li><strong style="color:#9B59B6;">Keyword Extraction:</strong> Extract â‰¥1 keywords from each chunk in context</li>
                <li><strong style="color:#E74C3C;">Bridge Formation:</strong> Identify keyword chains that link concepts across chunks</li>
                <li><strong style="color:#E67E22;">QA Generation:</strong> Synthesize â‰¥1 multi-hop QA pairs requiring information from multiple chunks</li>
                <li><strong style="color:#27AE60;">Deduplication:</strong> Rank similar QAs, merge redundant ones, produce refined final QA</li>
            </ol>
        </div>
    </div>
</body>
</html>
